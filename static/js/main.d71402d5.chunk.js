(this.webpackJsonpsliceline=this.webpackJsonpsliceline||[]).push([[0],{14:function(e,t){e.exports={CLIENT_ID:"ZRKHIMTZ1JFUVN43CIGGEZWKHG3PGZFLQEJ0OP55C0LUG5OR",CLIENT_SECRET:"53JDOUSGH0T1QH3NBUX4HANYQRB21ME3EUFROHVQJPK52TLV"}},16:function(e,t,a){e.exports=a(42)},2:function(e,t,a){e.exports=a.p+"static/media/pizza_slice.3ad32b2a.png"},21:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),i=a(15),l=a.n(i),r=(a(21),a(3)),o=a(2),s=a.n(o),m=function(e){return c.a.createElement("header",{className:"header-nav"},c.a.createElement("h1",null,c.a.createElement("img",{src:s.a,alt:"SliceLine Pizza Slice Icon"}),"SliceLine",c.a.createElement("img",{src:s.a,alt:"SliceLine Pizza Slice Icon"})))},u=a(4),E=a.n(u),p=Object({NODE_ENV:"production",PUBLIC_URL:"/sliceline"}).REACT_APP_CLIENT_ID||a(14).CLIENT_ID,d=Object({NODE_ENV:"production",PUBLIC_URL:"/sliceline"}).REACT_APP_CLIENT_SECRET||a(14).CLIENT_SECRET,f=(a(39),function(e){var t=e.venue,a=Object(n.useState)(null),i=Object(r.a)(a,2),l=i[0],o=i[1];return Object(n.useEffect)((function(){var e=sessionStorage.getItem(t.id),a=sessionStorage.getItem("expiration"),n=(new Date).getTime(),c=!a||n>a;e&&!c?o(JSON.parse(e)):function(e){var t=new URLSearchParams;return t.append("client_id",p),t.append("client_secret",d),t.append("v","20200131"),E.a.get("https://api.foursquare.com/v2/venues/".concat(e,"?").concat(t.toString()))}(t.id).then((function(e){var a=e.data;c&&sessionStorage.setItem("expiration",n+108e5);var i=a.response.venue;sessionStorage.setItem(t.id,JSON.stringify(i)),o(i)})).catch((function(e){return console.log(e)}))}),[t.id]),l?c.a.createElement("div",{className:"venue-details-container"},c.a.createElement("div",{className:"venue-details"},c.a.createElement("img",{className:"venue-image",src:l.bestPhoto?"".concat(l.bestPhoto.prefix,"300").concat(l.bestPhoto.suffix):s.a,alt:"Best of ".concat(l.name)}),c.a.createElement("div",{className:"venue-info"},c.a.createElement("h3",null,c.a.createElement("a",{href:l.canonicalUrl},l.name)),c.a.createElement("h3",null,l.contact.formattedPhone),c.a.createElement("h3",null,l.location.address),c.a.createElement("h3",null,"Price: ","$".repeat(l.price.tier)),c.a.createElement("h3",null,"Rating: ",l.rating||"N/A"))),c.a.createElement("div",{className:"pizza-border"},c.a.createElement("img",{className:"list-image",src:s.a,alt:"SliceLine Pizza Slice Icon"}),c.a.createElement("img",{className:"list-image",src:s.a,alt:"SliceLine Pizza Slice Icon"}),c.a.createElement("img",{className:"list-image",src:s.a,alt:"SliceLine Pizza Slice Icon"}))):""}),h=(a(40),function(){var e=Object(n.useState)(!1),t=Object(r.a)(e,2),a=t[0],i=t[1],l=Object(n.useState)(null),o=Object(r.a)(l,2),u=o[0],h=o[1];return Object(n.useEffect)((function(){navigator.geolocation.watchPosition((function(e){(function(e){var t=e.latitude,a=e.longitude,n=new URLSearchParams;return n.append("client_id",p),n.append("client_secret",d),n.append("ll","".concat(t,",").concat(a)),n.append("query","pizza"),n.append("limit","10"),n.append("v","20200131"),E.a.get("https://api.foursquare.com/v2/venues/search?".concat(n.toString()))})(e.coords).then((function(e){var t=e.data;h(t.response.venues)})).catch((function(e){return console.log(e)}))}))}),[]),c.a.createElement("div",{className:"top-container"},c.a.createElement(m,null),u&&a?c.a.createElement("main",{className:"venues-index"},c.a.createElement("h2",null,"Pizza Near You!"),c.a.createElement("ul",null,u.map((function(e){return c.a.createElement("li",{key:e.id},c.a.createElement(f,{venue:e}))})))):c.a.createElement("main",{className:"loading-placeholder"},c.a.createElement("img",{src:s.a,alt:"SliceLine Pizza Slice Icon"}),c.a.createElement("button",{className:a?"start-button inactive":"start-button",onClick:function(e){e.preventDefault(),i(!0)}},"Local Pizza!")),c.a.createElement("footer",{className:"icon-attribution"},"Icons made by ",c.a.createElement("a",{href:"https://www.flaticon.com/authors/freepik",title:"Freepik"},"Freepik")," from ",c.a.createElement("a",{href:"https://www.flaticon.com/",title:"Flaticon"}," www.flaticon.com")))});a(41);var v=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(h,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(v,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[16,1,2]]]);
//# sourceMappingURL=main.d71402d5.chunk.js.map